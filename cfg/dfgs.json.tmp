[
    {
        "id": "11257610-1ad1-80ec-0c11-10100c110000",
        "desc": "Pipeline2 Dataflow Graph",
        "graph": [
            {
                "pathname": "/speech_to_text",
                "shard_dispatcher_list": ["one"],
                "user_defined_logic_list": ["6cfe8f64-3a1d-11ed-8e7e-0242ac110006"],
                "user_defined_logic_stateful_list": ["singlethreaded"],
                "user_defined_logic_config_list": [
                    {
                        "python_path":["python_udls"],
                        "module":"speech_to_text_udl",
                        "entry_class":"SpeechToTextUDL",
                        "model_name": "iic/SenseVoiceSmall",
                        "device": "cuda",
                        "max_exe_batch_size":10,
                        "batch_time_us":1000,
                        "max_emit_batch_size":10,
                        "num_pending_buffer":10,
                        "next_udl_shards":[2]
                    }],
                "destinations": [{"/encode_search":"put"}]
            },
            {
                "pathname": "/encode_search",
                "shard_dispatcher_list": ["one"],
                "user_defined_logic_list": ["6cfe8f64-3a1d-11ed-8e7e-0242ac110006"],
                "user_defined_logic_stateful_list": ["singlethreaded"],
                "user_defined_logic_config_list": [
                    {
                        "python_path":["python_udls"],
                        "module":"encode_search_doc_udl",
                        "entry_class":"EncodeSearchDocUDL",
                        "encoder_name": "BAAI/bge-small-en-v1.5",
                        "index_dir": "/mnt/nvme0/vortex_pipeline1/msmarco_pq.index",
                        "device": "cuda",
                        "max_exe_batch_size":10,
                        "batch_time_us":1000,
                        "max_emit_batch_size":10,
                        "num_pending_buffer":10,
                        "next_udl_tcheck_shards":[2],
                        "next_udl_agg_shards":[1],
                        "emb_dim":384,
                        "topk":1,
                        "doc_dir":"/mnt/nvme0/vortex_pipeline1/doc_list.pkl"
                    }],
                "destinations": [{"/text_check":"put","/aggregate/":"put"}]
            },
            {
                "pathname": "/text_check",
                "shard_dispatcher_list": ["one"],
                "user_defined_logic_list": ["6cfe8f64-3a1d-11ed-8e7e-0242ac110006"],
                "user_defined_logic_stateful_list": ["singlethreaded"],
                "user_defined_logic_config_list": [
                    {
                        "python_path":["python_udls"],
                        "module":"text_check_udl",
                        "entry_class":"TextCheckUDL",
                        "model_name": "facebook/bart-large-mnli",
                        "device": "cuda",
                        "max_exe_batch_size":10,
                        "batch_time_us":1000,
                        "max_emit_batch_size":10,
                        "num_pending_buffer":10,
                        "next_udl_shards":[1]
                    }],
                "destinations": [{"/aggregate":"put"}]
            },
            {
                "pathname": "/aggregate",
                "shard_dispatcher_list": ["one"],
                "user_defined_logic_list": ["6cfe8f64-3a1d-11ed-8e7e-0242ac110006"],
                "user_defined_logic_stateful_list": ["singlethreaded"],
                "user_defined_logic_config_list": [
                    {
                        "python_path":["python_udls"],
                        "module":"aggregate_udl",
                        "entry_class":"AggregateUDL",
                        "device": "cuda",
                        "max_exe_batch_size":10,
                        "num_pending_buffer":10,
                        "batch_time_us":1000,
                        "flush_qid":19
                    }],
                "destinations": [{}]
            }
        ]
    },
    {
        "id": "82359620-2ad2-81ec-1c22-20202c220011",
        "desc": "Pipeline2 Dataflow Graph",
        "graph": [
            {
                "pathname": "/mono_speech",
                "shard_dispatcher_list": ["one"],
                "user_defined_logic_list": ["6cfe8f64-3a1d-11ed-8e7e-0242ac110006"],
                "user_defined_logic_stateful_list": ["singlethreaded"],
                "user_defined_logic_config_list": [
                    {
                        "python_path":["python_udls"],
                        "module":"pipeline2_mono_udl",
                        "entry_class":"MonoSpeechUDL",
                        "device": "cuda",
                        "speech_model_name": "iic/SenseVoiceSmall",
                        "encoder_model_name": "BAAI/bge-small-en-v1.5",
                        "index_dir": "/mnt/nvme0/vortex_pipeline1/msmarco_pq.index",
                        "emb_dim":384,
                        "topk":1,
                        "doc_dir":"/mnt/nvme0/vortex_pipeline1/doc_list.pkl",
                        "check_model_name": "facebook/bart-large-mnli",
                        "max_exe_batch_size":10,
                        "batch_time_us":1000,
                        "num_pending_buffer":10,
                        "flush_qid":49
                    }],
                "destinations": [{}]
            }
        ]
    },
    {
        "id": "300000000-3ccc-12c3-3333-000000033333",
        "desc": "Logging purpose graph",
        "graph": [
            {
                "pathname": "/flush_log",
                "user_defined_logic_list": ["6cfe8f64-3a1d-11ed-8e7e-0242ac110006"],
                "user_defined_logic_stateful_list": ["singlethreaded"],
                "user_defined_logic_config_list": [
                    {
                        "python_path":["python_udls"],
                        "module":"flush_log_udl",
                        "entry_class":"FlushLogUDL"
                    }],
                "destinations": [{}]
            }
        ]
    }
]